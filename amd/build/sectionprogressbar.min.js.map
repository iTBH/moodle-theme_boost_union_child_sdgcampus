{"version":3,"file":"sectionprogressbar.min.js","sources":["../src/sectionprogressbar.js"],"sourcesContent":["import jQuery from 'jquery';\nimport {call as fetchMany} from 'core/ajax';\n\nexport const get_progress = (section) => fetchMany([{\n    methodname: 'theme_sdg_boost_union_section_completion',\n    args: {\n        section\n    }\n}])[0];\n\nexport const get_config = (configname) => fetchMany([{\n    methodname: 'theme_sdg_boost_union_config',\n    args: {\n        configname\n    }\n}])[0];\n\nexport const init = async (section) => {\n    let color = await get_config('progressbarcolorsetting');\n    let defaultColor = await get_config('defaultprogressbarcolorsetting');\n    let borderColor = '#27B049';\n    color = color ? \"background-color: \" + color.toString() + \" !important;\" : '';\n    defaultColor = defaultColor ? \"background-color: \" + defaultColor.toString() + \" !important;\" : '';\n\n\n    let percentage = await get_progress(section);\n\n    if (percentage >= 0) {\n        let html = \"<div class='row mb-2'><div class='col'>\" +\n            \"<div class='progress float-right' style='width:33%; height: 1.2rem; \" + defaultColor + \"; \" +\n            \"border-radius: 0.75rem; border: 1px solid \" + borderColor + \";' \" +\n            \"data-toggle='tooltip' data-placement='bottom' title='\" + percentage + \" %'>\" +\n            \"<div class='progress-bar bg-success' role='progressbar' style='width: \" + percentage + \"%;\" +\n            color + \"' aria-valuenow='\" + percentage + \"'  aria-valuemin='0' aria-valuemax='100'>\" +\n            \"</div>\" +\n            \"</div>\" +\n            \"</div>\" +\n            \"</div>\";\n        jQuery('.course-section-header').last().after(html);\n    }\n};\n"],"names":["get_progress","section","methodname","args","get_config","configname","async","color","defaultColor","toString","percentage","html","last","after"],"mappings":"kTAGaA,aAAgBC,UAAY,cAAU,CAAC,CAChDC,WAAY,2CACZC,KAAM,CACFF,QAAAA,YAEJ,4CAESG,WAAcC,aAAe,cAAU,CAAC,CACjDH,WAAY,+BACZC,KAAM,CACFE,WAAAA,eAEJ,gDAEgBC,MAAAA,cACZC,YAAcH,WAAW,2BACzBI,mBAAqBJ,WAAW,kCAEpCG,MAAQA,MAAQ,qBAAuBA,MAAME,WAAa,eAAiB,GAC3ED,aAAeA,aAAe,qBAAuBA,aAAaC,WAAa,eAAiB,OAG5FC,iBAAmBV,aAAaC,YAEhCS,YAAc,EAAG,KACbC,KAAO,8GACkEH,aADlE,8GAGmDE,WAHnD,6EAIoEA,WAAa,KACxFH,MAAQ,oBAAsBG,WALvB,wFAUJ,0BAA0BE,OAAOC,MAAMF"}